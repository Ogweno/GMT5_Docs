.. index:: !gmtselect

gmtselect
=========

- 官方文档： :ref:`gmt:gmtselect`
- 简介：根据多个准则筛选数据

该命令会从输入文件中读取前两列作为经度和纬度，并判断经纬度是否符合一定的空间准则，以筛选出符合条件的记录。输入文件中仅前两列会被使用。

六个空间准则包括：

#. 在矩形区域内（\ ``-R``\ 和\ ``-J``\ ）
#. 与\ ``ptfile``\ 中的每个点的距离在\ ``dist``\ 之内
#. 与\ ``linefile``\ 中的每条线的距离在\ ``dist``\ km 之内
#. 在\ ``polygonfile``\ 中的多边形内
#. 在某个地理区域内（需要海岸线数据）
#. z值在某个范围内

准则1
-----

准则1通过\ ``-R``\ 选项控制::

    gmt select points.xy -R0/5/0/5

准则2
-----

**-C**\ *dist*\ [*unit*]/\ *ptfile*

该准则会筛选出与文件\ ``ptfile``\ 中的每个点的距离在\ ``dist``\ 之内的记录。若\ ``dist``\ 等于0，则\ ``ptfile``\ 中的第三列是每个数据点各自的影响范围。

默认情况下\ ``dist``\ 是笛卡尔坐标系下的距离，单位为用户单位。若指定\ ``-fg``\ 选项，则表明\ ``dist``\ 为球面距离。若使用了\ ``-R``\ 和\ ``-J``\ ，则\ ``dist``\ 表示投影后的纸面距离。

准则3
-----

**-L**\ [**p**]\ *dist*\ [*unit*]/\ *linefile*

``linefile``\ 中包含了一系列线段，该准则会筛选出与这些线段的距离不超过\ ``dist``\ 的记录。

若\ ``dist``\ 等于零，则可以在\ ``ptfile``\ 中每段数据的头段记录中使用\ ``-Ddist``\ 选项，为每个线段分别指定距离值。

``-Lp``\ 选项会将数据点垂直投影到线段上，只有投影的位置在线段的端点内的记录才会被保留。

准则4
-----

**-F**\ *polygonfile*

``polygonfile``\ 中可以包含一个或多个多边形，该选项筛选出所有在多边形内的记录。

准则5
-----

**-N**\ *maskvalues* **-D**\ *resolution*\ [**+**]

-N选项有两种形式，\ ``-N<wet>/<dry>``\ 和\ ``-N<ocean>/<land>/<lake>/<island>/<pond>``\  。其中\ ``<wet>``\ 可以取为\ ``s``\ 或者\ ``k``\ ，表示skip或者kept位于该地理区域内的记录。

默认值为\ ``-Ns/k/s/k/s``\ ，即保留所有陆地上的记录。

``-D``\ 选项用于设置海岸线数据的精度，由高到低依次为f、h、i、l、c。

准则6
-----

**-Z**\ *min*\ [/*max*]\ [**+c**\ *col*]

判断记录的Z值是否在min到max之间。可以使用\ ``+c<col>``\ 指定记录中的某一列作为Z值，默认以第三列（col=2）作为Z值。

若省略了max，则判断Z值是否等于min。若不限制范围的上限或下限，可以使用\ ``-``\ 代替。

若想要对多列做类似的测试，可以重复使用-Z选项，每次指定不同的列号。

其他选项
--------

-E选项
~~~~~~

*-E**\ [**fn**]

在判断点是否在一个多边形内时，默认会将恰好在多边形上的点也认为是在多边形内，使用该选项会将多边形上的点认为是在多边形外部。\ ``f``\ 和\ ``n``\ 分别对应于\ ``-F``\ 和\ ``-N``\ 选项。

-I选项
~~~~~~

**-I**\ [**cflrsz**]

对六个准则取反，即筛选出不符合准则的记录。c、f、l、r、s、z分别对应于\ ``-C``\ 、\ ``-F``\ 、\ ``-L``\ 、\ ``-R``\ 、\ ``-S``\ 和\ ``-Z``\ 。
