.. index:: ! grdcut

grdcut
======

从一个网格文件中裁剪出一个子区域，并生成新的子区域网格

语法
----

**grdcut** *ingrid* **-G**\ *outgrid* -R[unit]xmin/xmax/ymin/ymax[r]
[ **-N**\ [*nodata*] ]
[ **-S**\ [**n**]\ *lon/lat/radius*\ [*unit*] ]
[ **-Z**\ [\ **n**\ \|\ **r**]\ *min/max* ]

``ingrid``\ 为输入网格文件，\ ``-G``\ 后面接输出网格文件名。

可以通过\ ``-R``\ 、\ ``-S``\ 或者\ ``-Z``\ 选项来指定要截取的网格范围。

-R选项
------

-R选项直接指定要截取的网格区域::

    gmt grdcut input.nc -Goutput.nc -R0/30/-30/30

-S选项
------

-S选项可以指定一个圆形区域（原点、半径以及单位），该命令会自动计算出一个矩形区域，该矩形区域包含了圆上以及圆内的所有点。

若使用\ ``-Sn``\ ，则圆形区域外的所有网格点的值设置为NaN。

下面的例子生成的网格文件包含了距离\ ``(45,30)``\ 500 km以内的所有点::

    gmt grdcut input.nc -Goutput.nc -S15/0/500k -V

-Z选项
------

-Z选项给定了一个Z值的范围（min和max），根据Z值范围，确定一个新的矩形区域，保证该区域\ **外**\ 的所有网格点的值都在给定的Z值范围之外。注意，不是保证矩形区域内的网格点的值都在Z值范围之内。

为了得到满足要求的矩形区域，代码中从四条边界开始向内收缩，当某条边界遇到某个网格点的值在给定的Z值范围内，则此边界停止收缩。

正常情况下，在确定矩形区域时网格中的NaN会被忽略。

- 若使用\ ``-Zn``\ 选项，则保证所有NaN的网格点都在矩形区域外，即新的网格文件是NaN-free的。
- 若使用\ ``-Zr``\ 选项，则认为NaN是在给定的Z值范围内的，因而当遇到NaN的网格点时，则停止收缩边界。

另外，可以将min或max的值设为\ ``-``\ ，以则Z值上/下限为正/负无穷。

::

    gmt grdcut abc.nc -Gdef.nc -Z-/0 -V

-N选项
------

一般情况下，若指定的区域范围大于输入网格的区域范围，超出的部分会被自动忽略，实际的输出网格的区域范围会自动适应输入网格的区域范围。使用-N选项，则超出的区域范围内，网格点会被赋以指定的值，默认赋值为NaN，也可以自己指定其值。
