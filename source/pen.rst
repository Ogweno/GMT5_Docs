.. index:: ! pen

画笔
====

:Create Date: 2014-11-09
:Last Updated: 2014-11-09

有画笔才能画线条，才可以画出三角形、圆形等各种复杂的形状。

GMT中的画笔由三个属性定义：笔宽、颜色和线型，三者用逗号分隔，即\ ``width,color,style``\ 。在大多数模块中，都使用\ ``-W``\ 选项来指定画笔属性，可以指定三个属性中的任意几个属性，但要保证属性的相对顺序。

画笔线宽
--------

可以通过两种方式指定线条的宽度。

1. *width*\ [**c\ \|\ i\ \|\ p**]

   线宽可以使用三种单位：\ ``c``\ 、\ ``i``\ 和\ ``p``\ 。默认单位为\ ``p``\ ，也是推荐使用的单位，毕竟一般情况下线条的宽度都比较小，用\ ``5p``\ 比用\ ``0.01c``\ 要更直观一些。例如\ ``1p``\ 、\ ``0.25p``\ 。

2. 预定义画笔宽度名。

   对于一些常用的画笔宽度，GMT将其定义为特定的名字，以方便用户使用。包括\ ``default``\ 、\ ``faint``\ 、\ ``{thin, thick, fat}[er|est]``\ 、\ ``obese``\ 。表\ :ref:`pennames <tbl-pennames>`\ 中给出了这些预定义画笔宽度名及其对应的宽度。

   .. _tbl-pennames:

      +------------+---------+------------+--------+
      | 宽度名     | 宽度    | 宽度名     | 宽度   |
      +============+=========+============+========+
      | faint      | 0       | thicker    | 1.5p   |
      +------------+---------+------------+--------+
      | default    | 0.25p   | thickest   | 2p     |
      +------------+---------+------------+--------+
      | thinnest   | 0.25p   | fat        | 3p     |
      +------------+---------+------------+--------+
      | thinner    | 0.50p   | fatter     | 6p     |
      +------------+---------+------------+--------+
      | thin       | 0.75p   | fattest    | 12p    |
      +------------+---------+------------+--------+
      | thick      | 1.0p    | obese      | 18p    |
      +------------+---------+------------+--------+

PS：最细的画笔可以通过设置笔宽为\ ``0p``\ 或\ ``faint``\ 来实现，但画笔的实际宽度由具体的设备来决定。

画笔颜色
--------

参见\ :doc:`colors` 一节。

画笔类型
--------

``style``\ 属性用于控制线条的外观。

1. 预定义画笔类型名

   GMT预定义了几种画笔类型名，包括\ ``solid``\ （实线）、\ ``dashed``\ （虚线）和\ ``dotted``\ （点线）。

2. 简单符号

   - ``.``\ 表示点线；
   - ``-``\ 表示虚线；

3. 组合符号

   通过对简单符号的任意组合可以获得更多的线型，比如\ ``.-``\ 、\ ``..-``\ 等。

4. 复杂符号

   还可以通过\ ``string:offset``\ 的形式自定义更复杂的线型。其中\ ``string``\ 是一系列由下划线\ ``_``\ 分隔的数字组成。其中第奇数个数字表示线段的长度，第偶数个数字表示空白的长度。比如，\ ``4_8_5_8:2p``\ 表示线型首先是长度为4p的实线，然后是长度为8p的空白，紧接着长度为5p的实线和长度为8p的空白，此线段将按照该模式不断重复。这里的\ ``offset``\ 值为\ ``2p``\ ，表示整条线在开始的时候对该模式进行2p的相移。

注：

1. ``.``\ 和\ ``-``\ 的绝对长度由画笔宽度来决定。\ ``.``\ 的长度等于画笔宽度；\ ``-``\ 的长度为8倍画笔宽底；每段间的空白长度为4倍画笔宽度。

图\ :ref:`GMT画笔示例 <GMT_pens>`\ 中展示了不同的画笔。

.. _GMT_pens:

.. figure:: /images/GMT_pens.*
   :width: 600 px
   :align: center

   GMT画笔示例

其他属性
--------

除了上面提到的三个画笔属性之外，还有一些PostScript设置可以影响线条的外观。这些可以通过GMT的几个默认参数来控制：

- :ref:`PS_LINE_CAP <PS_LINE_CAP>` ：控制线段顶端的绘制方式；
- :ref:`PS_LINE_JOIN <PS_LINE_JOIN>` ：控制线段相交点的绘制方式；
- :ref:`PS_MITER_LIMIT <PS_MITER_LIMIT>` ：控制线段相交点\ ``miter``\ 模式下的阈值；

这三个默认参数控制了线段端点以及交点的绘制方式。默认情况下，线段的端点为矩形，可以通过修改\ :ref:`PS_LINE_CAP <PS_LINE_CAP>`\ 为\ ``round``\ 将其端点设置为圆头，当\ ``PS_LINE_CAP=round``\ 时，长度为0的线段将以圆的形式出现，这可以用于创建圆点线，此时将同一条线绘制两次，每次使用不同的相移和颜色，则可以创建颜色变化的线型。
