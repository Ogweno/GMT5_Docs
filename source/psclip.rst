.. index:: ! psclip

psclip
======

- 官方文档： :ref:`gmt:psclip`
- 打开或关闭多边形裁剪路径

该命令会从输入文件中读取XY数据，由此构成一个或多个多边形，进而构建出一个或多个裁剪路径。接下来的所有绘图命令中，只有在多边形内部的部分才会被绘制。

为了判断某个点是在裁剪区域内还是在裁剪区域外，psclip使用了奇偶规则。从任意一点绘制一条任意方向的射线，若该射线穿过裁剪路径线段奇数次，则该点位于裁剪区域内；若穿过偶数次，则该点位于裁剪区域外。

最后，记得再次调用psclip命令并使用 ``-C`` 选项以关闭裁剪区域。

语法
----

::

    psclip [table] [-A[m|p|x|y]] [-N] [-T] [-C<n>]

``-A``
------

地理坐标下，默认两点之间的线段是按照大圆路径连接的

- ``-A`` 线段用直线链接
- ``-Am`` 连接线段时先沿着经线走再沿着纬线走
- ``-Ap`` 连接线段时先沿着纬线走再沿着经线走

在笛卡尔坐标系下，两点之间默认用直线连接，可以使用 ``-Ax`` 或 ``-Ay`` 选项使得连接线段时先沿着X或Y方向移动。

``-N``
------

反转在区域里还是在区域外的判断，进而导致只有在多边形外的部分才是裁剪区域，绘图时只有在多边形外的才会被绘制。

``-T``
------

不需要任何输入数据，仅仅按照当前地图的区域打开裁剪选项，该选项不能与 ``-B`` 选项连用。

``-C``
------

结束当前裁剪路径。

示例
----

::

    gmt psclip my_region.xy -R0/40/0/40 -Jm0.3i -K > clip_mask_on.ps
    # 其他绘图命令
    gmt psclip -C -O >> complex_plot.ps

相关
----

:doc:`psmask` 、 :doc:`grdmask`
